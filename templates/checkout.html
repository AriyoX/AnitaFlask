<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Checkout</title>
    <link rel="stylesheet" href="static/checkout.css">
    <script>
        function validatePaymentOption() {
            var cardNumber = document.getElementById("card-number").value;
            var mobileNumber = document.getElementById("mobile-number").value;

            if (cardNumber.trim() === "" && mobileNumber.trim() === "") {
                alert("Please provide either Card Number or Mobile Number.");
                return false;
            }

            return true;
        }
    </script>
</head>
<body>

    {% include 'header.html' %}

    <div class="container">
        <h1>Checkout</h1>
        
        <div class="cart-summary">
            <h2>Cart Summary</h2>
            <p>Total Price: UGX {{ total_price }}</p>
        </div>
        
        <form action="/process_payment" method="post" id="payment-form" onsubmit="return validatePaymentOption()">
            <h2>Payment Information</h2>
            <h3>Card</h3>
            <label for="card-number">Card Number</label>
            <input type="text" id="card-number" name="card_number">
            
            <label for="expiry-date">Expiry Date</label>
            <input type="text" id="expiry-date" name="expiry_date" placeholder="MM/YYYY">
            
            <label for="cvv">CVV</label>
            <input type="text" id="cvv" name="cvv" maxlength="3">

            <h3>or Mobile Money</h3>
            <label for="mobile-number">Mobile Number</label>
            <input type="text" id="mobile-number" name="mobile_number">

            <h2>Delivery Address</h2>
            <h3>Incase you want our services at your own convenience</h3>
            <label for="address">Address</label>
            <input type="text" id="address" name="address" required>
            
            <label for="city">City</label>
            <input type="text" id="city" name="city" required>
            
            <label for="zipcode">Zip Code</label>
            <input type="text" id="zipcode" name="zipcode" required>
            
            <button type="submit" id="pay-now-button">Pay Now</button>
        </form>

    </div>
        
    {% include 'footer.html' %}

</body>
</html>
